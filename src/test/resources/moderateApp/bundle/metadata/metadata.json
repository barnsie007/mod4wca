{"middlewareId":"IBM WebSphere Application Server__9.0.5.15","collectionUnitName":"AppSrv01","collectionIds":["80b909c7-584f-498c-8677-eae6790c1cfe"],"groups":[],"commonCode":[],"usedBy":[],"uses":[],"assessmentUnitId":"demo-data-vm1.fyre.ibm.com_edbef6a8-a518-47c6-ac28-1fca1127face_javaAppServer_was_profile_AppSrv01_ModResorts.ear","assessmentUnitName":"ModResorts.ear","targets":[{"uniqueCodeCost":0.3,"commonCodeCost":0.0,"totalCost":0.3,"issues":[{"ruleId":"ApplicationSecurityRule","ruleName":"Java EE security","cost":0.0,"uniqueCodeCost":0.0,"commonCodeCost":0.0,"isCostCapped":false,"occurrences":[{"artifact":"78cd808e6de2f14994e4e317d88172c00cce40edc347b500f9ca93a9a7140608_modresorts-2.0.0.war","artifactDisplayName":"modresorts-2.0.0.war","commonCode":false,"occurrences":[{"fileName":"WEB-INF/web.xml","match":"security-constraint","reference":"","lineNumber":18}],"numOccurrences":1}],"actionTaken":"ta.actionTaken.migrating.cloud.maintain.resource","additionalInformation":"","severity":"suggested","type":"CLOUD_CONSIDERATION","isValid":true,"complexityRule":"NO_CODE_CHANGE_OR_MANAGEABLE_DEPENDENCIES","solutionText":[],"automatedFix":"none","helpBody":"\u003ch3\u003eJava EE security\u003c/h3\u003e\n\u003cp\u003e\nWhen moving applications that use Java EE security to the cloud, \nconsider how the application uses the user registry, Trust Association Interceptors (TAI), and JAAS custom login modules,\nas well as your on-premises security server. \n\u003c/p\u003e\n\u003cp\u003e\nThis rule flags the following elements related to Java EE security:\u003c/p\u003e\n\u003ch4\u003eJava Servlet\u003c/h4\u003e\n\u003cp\u003eThe following Java annotations and method calls indicate use of Java EE security:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ejavax.servlet.annotation.ServletSecurity\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ejavax.servlet.http.HttpServletRequest.getRemoteUser\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ejavax.servlet.http.HttpServletRequest.getUserPrincipal\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ejavax.servlet.http.HttpServletRequest.isUserInRole\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe following deployment descriptor elements also indicate use of Java EE security in the web container:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e\u0026lt;security-constraint\u0026gt;\u003c/code\u003e in the \u003ccode\u003eWEB-INF/web.xml\u003c/code\u003e file.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- Note to translator, do not translate the terms \u003cq\u003eBASIC\u003c/q\u003e, \u003cq\u003eFORM\u003c/q\u003e or \u003cq\u003eCLIENT-CERT\u003c/q\u003e --\u003e\n\u003cp\u003eApplications that authenticate users specify a standard authentication method (BASIC, FORM, CLIENT-CERT) on the\n\u003ccode\u003e\u0026lt;login-config\u0026gt;\u003c/code\u003e element and its \u003ccode\u003e\u0026lt;auth-method\u0026gt;\u003c/code\u003e sub-element in the \u003ccode\u003eWEB-INF/web.xml\u003c/code\u003e file.\u003c/p\u003e\n \n\u003ch4\u003eEnterprise Java Beans\u003c/h4\u003e\n\u003cp\u003eThe following Java annotations and method calls indicate use of Java EE security in the EJB container:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ejavax.annotation.security.RolesAllowed\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ejavax.annotation.security.PermitAll\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ejavax.annotation.security.DenyAll\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ejavax.ejb.EJBContext.getCallerPrincipal\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ejavax.ejb.EJBContext.isCallerInRole\u003c/code\u003e\u003c/li\u003e\n\n\u003c/ul\u003e\n\u003cp\u003eThe following deployment descriptor elements also indicate use of Java EE security:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e\u0026lt;method-permission\u0026gt;\u003c/code\u003e in the \u003ccode\u003eejb-jar.xml\u003c/code\u003e file.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThis rule is flagged once per Eclipse project or Java archive.\u003c/p\u003e\n\n\t\t\u003ch4\u003eHow to Resolve\u003c/h4\u003e\n\t\t\u003cp\u003eIf your application is able to directly access the security provider, no further action is required.\n\t\t\u003c/p\u003e\n\t\t\u003cp\u003e\n\t\t\tOtherwise, you can use a VPN tunnel, such as the IBM Secure Gateway for IBM Cloud, \n\t\t\tto create a secure connection to your existing on-premises security provider.\n\t\t\tFor more information about configuring a secure connection, see\n\t\t\t\u003ca href\u003d\"SecureConnection.html\"\u003eConfiguring a VPN\u003c/a\u003e. After configuring your gateway, connect your application to the\n\t\t\tnew destination by using the cloud host and port number that is\n\t\t\tprovided when you created the destination.\n\t\t\tThe following URLs are examples of Lightweight Directory Access Protocol (LDAP) URLs:\n\t\t\u003c/p\u003e\n\t\t\t\u003cul\u003e\n\t\t\t\u003cli\u003e\u003cspan class\u003d\"Code\"\u003eldap://\u0026lt;cloud host\u0026gt;:\u0026lt;cloud port\u0026gt;/...\u003c/span\u003e\u003c/li\u003e\n\t\t\t\u003cli\u003e\u003cspan class\u003d\"Code\"\u003eldaps://\u0026lt;cloud host\u0026gt;:\u0026lt;cloud port\u0026gt;/...\u003c/span\u003e\u003c/li\u003e\n\t\t\t\u003c/ul\u003e\n","occurrenceFields":{"reference":"Reference","fileName":"File Name","match":"Match","lineNumber":"Line Number","artifactDisplayName":"Artifact"}},{"ruleId":"ServerName","ruleName":"Getting the server name on Liberty","cost":0.1,"uniqueCodeCost":0.1,"commonCodeCost":0.0,"isCostCapped":false,"occurrences":[{"artifact":"78cd808e6de2f14994e4e317d88172c00cce40edc347b500f9ca93a9a7140608_modresorts-2.0.0.war","artifactDisplayName":"modresorts-2.0.0.war","commonCode":false,"occurrences":[{"fileName":"WEB-INF/classes/com/acme/modres/WeatherServlet.class","match":"com.ibm.websphere.runtime.ServerName.getFullName(*)","reference":"Method configureEnvDiscovery","lineNumber":209},{"fileName":"WEB-INF/classes/com/acme/modres/WeatherServlet.class","match":"com.ibm.websphere.runtime.ServerName.getDisplayName(*)","reference":"Method configureEnvDiscovery","lineNumber":208}],"numOccurrences":2}],"actionTaken":"","additionalInformation":"","severity":"critical","type":"TECHNOLOGY","isValid":true,"complexityRule":"UPDATE_CODE","solutionText":["ta.liberty.issue.complexity.rule.issue.categories.update.code"],"automatedFix":"automated","helpBody":"\u003ch3\u003eGetting the server name on Liberty\u003c/h3\u003e\n\u003cp\u003e\nThis rule flags references to the following methods:\n\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ecom.ibm.websphere.management.AdminService.getProcessName()\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ecom.ibm.ejs.ras.RasHelper.getServerName()\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ecom.ibm.websphere.runtime.ServerName.getDisplayName()\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ecom.ibm.websphere.runtime.ServerName.getFullName()\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\nThese methods are not available on Liberty.\n\u003c/p\u003e\n\u003cp\u003e\nThis rule has an automated fix. Copy the \u003ca href\u003d\"#analyze_AutomatedFixConfiguration\"\u003ecustom configuration\u003c/a\u003e to your application build file to enable the fix automation.\n\u003c/p\u003e\n\u003cp\u003e\nThe source scanner has a quick fix to change any reference to the methods mentioned earlier to \u003ccode\u003ejava.lang.System.getProperty(\"wlp.server.name\")\u003c/code\u003e \nwhich retrieves the name of your Liberty server. This solution does not work on WebSphere Application Server traditional.\n\u003cp\u003e\nFor alternative solutions, see the \u003ca href\u003d\"https://www.ibm.com/docs/en/was-liberty/base?topic\u003dliberty-directory-locations-properties#rwlp_dirs__title__3\" \ntitle\u003d\"Opens a new window\" onclick\u003d\"javascript:helpWindow(\u0027https://www.ibm.com/docs/en/was-liberty/base?topic\u003dliberty-directory-locations-properties#rwlp_dirs__title__3\u0027); return false;\"\u003e\nProgrammatic access to location properties\u003c/a\u003e section in the documentation.\n\u003c/p\u003e\n","occurrenceFields":{"reference":"Reference","fileName":"File Name","match":"Match","lineNumber":"Line Number","artifactDisplayName":"Artifact"}},{"ruleId":"RemoveWas2LibertyNonPortableJndiLookup","ruleName":"Use the default InitialContext JNDI properties","cost":0.1,"uniqueCodeCost":0.1,"commonCodeCost":0.0,"isCostCapped":false,"occurrences":[{"artifact":"78cd808e6de2f14994e4e317d88172c00cce40edc347b500f9ca93a9a7140608_modresorts-2.0.0.war","artifactDisplayName":"modresorts-2.0.0.war","commonCode":false,"occurrences":[{"fileName":"WEB-INF/classes/com/acme/modres/WeatherServlet.class","match":"java.util.Hashtable.put(\"java.naming.factory.initial\",\"com.ibm.websphere.naming.WsnInitialContextFactory\")","reference":"Method setInitialContextProps","lineNumber":217},{"fileName":"WEB-INF/classes/com/acme/modres/WeatherServlet.class","match":"java.util.Hashtable.put(\"java.naming.provider.url\",\"corbaloc:iiop:localhost:2809\")","reference":"Method setInitialContextProps","lineNumber":218}],"numOccurrences":2}],"actionTaken":"","additionalInformation":"","severity":"critical","type":"TECHNOLOGY","isValid":true,"complexityRule":"UPDATE_CODE","solutionText":["ta.liberty.issue.complexity.rule.issue.categories.update.code"],"automatedFix":"automated","helpBody":"\u003ch3\u003eUse the default InitialContext JNDI properties\u003c/h3\u003e\n\u003cp\u003e\nUse the default values for the \u003ccode\u003ejava.naming.factory.initial\u003c/code\u003e and \u003ccode\u003ejava.naming.provider.url\u003c/code\u003e JNDI properties when you migrate to Liberty.  \nThe following WebSphere Application Server traditional values for these properties are not valid:\n\u003c/p\u003e\n\u003cul\u003e\n\t\u003cli\u003e\u003ccode\u003ejava.naming.factory.initial\u003dcom.ibm.websphere.naming.WsnInitialContextFactory\u003c/code\u003e\u003c/li\u003e\n\t\u003cli\u003e\u003ccode\u003ejava.naming.provider.url\u003dcorbaloc:iiop:localhost:2809\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\nThe migration tool scans Java and properties files for the properties mentioned earlier.\n\u003c/p\u003e\n\u003cp\u003e\nIn \u003ccode\u003ejndi.properties\u003c/code\u003e files the \u003ccode\u003ejava.naming.factory.initial\u003c/code\u003e and \u003ccode\u003ejava.naming.provider.url\u003c/code\u003e property keys are flagged regardless of the value.\nIf the properties file rule detects a \u003ccode\u003ejndi.properties\u003c/code\u003e file, check the properties in the file. \nEither remove the \u003ccode\u003ejava.naming.factory.initial\u003c/code\u003e and \u003ccode\u003ejava.naming.provider.url\u003c/code\u003e properties, or delete the file if none of the properties are needed.       \n\u003c!-- Is the \u003cq\u003eproperty files rule\u003c/q\u003e this rule or a different rule? --\u003e\n\u003c/p\u003e\n\n\u003cp\u003e\nThe following example illustrates application code that this rule will flag:\n\u003cp\u003e\n\u003ctable summary\u003d\"This table provides more information about the rule, sometimes in the form of an excerpt from a file demonstrating the migration issue.\" bgcolor\u003d\"#F7F8F9\" border\u003d\"1\"\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cspan class\u003d\"Code\"\u003e\n\n\u003cbr\u003e\n\u003cspan class\u003d\"JavaKeyword\"\u003eimport\u003c/span\u003e \u003cspan class\u003d\"JavaType\"\u003ejava.util.Hashtable;\u003c/span\u003e\u003cbr\u003e\n\n\u003cspan class\u003d\"JavaKeyword\"\u003eimport\u003c/span\u003e \u003cspan class\u003d\"JavaType\"\u003ejavax.naming.InitialContext;\u003c/span\u003e\n\u003cbr\u003e\n...\n\u003cbr\u003e\n\u003cspan class\u003d\"JavaType\"\u003evoid\u003c/span\u003e main( \u003cspan class\u003d\"JavaType\"\u003eString\u003c/span\u003e[] args ) {\u003cbr\u003e\n\n\u003cspan class\u003d\"indent\"\u003e\u003c/span\u003e\u003cspan class\u003d\"indent\"\u003e\u003c/span\u003e\u003cspan class\u003d\"JavaType\"\u003eHashtable\u003c/span\u003e ht \u003d \u003cspan class\u003d\"JavaKeyword\"\u003enew\u003c/span\u003e \u003cspan class\u003d\"JavaType\"\u003eHashtable\u003c/span\u003e();\u003cbr\u003e\n\u003cbr\u003e\n\u003cspan class\u003d\"indent\"\u003e\u003c/span\u003e\u003cspan class\u003d\"indent\"\u003e\u003c/span\u003eht.put(\u003cq\u003e\u003cspan class\u003d\"redCode\"\u003e\u003cstrong\u003ejava.naming.factory.initial\u003c/strong\u003e\u003c/span\u003e\u003c/q\u003e, \u003cq\u003ecom.ibm.websphere.naming.WsnInitialContextFactory\u003c/q\u003e);\u003cbr\u003e\n\n\u003cspan class\u003d\"indent\"\u003e\u003c/span\u003e\u003cspan class\u003d\"indent\"\u003e\u003c/span\u003eht.put(\u003cq\u003e\u003cspan class\u003d\"redCode\"\u003e\u003cstrong\u003ejava.naming.provider.url\u003c/strong\u003e\u003c/span\u003e\u003c/q\u003e, \u003cq\u003ecorbaloc:iiop:localhost:2809\u003c/q\u003e);\u003cbr\u003e\n\n\u003cbr\u003e\n\n\u003cspan class\u003d\"indent\"\u003e\u003c/span\u003e\u003cspan class\u003d\"indent\"\u003e\u003c/span\u003e\u003cspan class\u003d\"JavaType\"\u003eInitialContext\u003c/span\u003e ctx \u003d \u003cspan class\u003d\"JavaKeyword\"\u003enew\u003c/span\u003e \u003cspan class\u003d\"JavaType\"\u003eInitialContext\u003c/span\u003e(ht);\u003cbr\u003e\n\n}\u003cbr\u003e\n\u003c/span\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003cp\u003e\nWhen you use the \u003ccode\u003eInitialContext(Hashtable)\u003c/code\u003e constructor, remove these two properties. If no other properties are being used, you can use the default constructor.       \n\u003c/p\u003e\n\u003cp\u003e\nThe following example illustrates the proper use of the code shown in the previous example:\n\u003c/p\u003e\n\u003ctable summary\u003d\"This table provides more information about the rule, sometimes in the form of an excerpt from a file demonstrating the migration issue.\" bgcolor\u003d\"#F7F8F9\" border\u003d\"1\"\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cspan class\u003d\"Code\"\u003e\n\u003cbr\u003e\n\u003cspan class\u003d\"JavaKeyword\"\u003eimport\u003c/span\u003e \u003cspan class\u003d\"JavaType\"\u003ejavax.naming.InitialContext;\u003c/span\u003e\n\u003cbr\u003e\n...\n\u003cbr\u003e\n\u003cspan class\u003d\"JavaType\"\u003evoid\u003c/span\u003e main( \u003cspan class\u003d\"JavaType\"\u003eString\u003c/span\u003e[] args ) {\u003cbr\u003e\n\n\u003cspan class\u003d\"indent\"\u003e\u003c/span\u003e\u003cspan class\u003d\"indent\"\u003e\u003c/span\u003e\u003cspan class\u003d\"JavaType\"\u003eInitialContext\u003c/span\u003e ctx \u003d \u003cspan class\u003d\"JavaKeyword\"\u003enew\u003c/span\u003e \u003cspan class\u003d\"JavaType\"\u003eInitialContext\u003c/span\u003e();\u003cbr\u003e\n\n}\u003cbr\u003e\n\u003c/span\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\n\u003cp\u003e\nWhen you use the \u003ccode\u003eInitialContext(Hashtable)\u003c/code\u003e constructor, remove these two properties. If no other properties are being used, you can use the default constructor.       \n\u003c/p\u003e\n\u003cp\u003e\nThis rule has an automated fix to remove those two properties. Copy the \u003ca href\u003d\"#analyze_AutomatedFixConfiguration\"\u003ecustom configuration\u003c/a\u003e to your application build file to enable it.\n\u003c/p\u003e\n\u003cp\u003e\nThe rule will also flag \u003ccode\u003ecom.ibm.websphere.naming.WsnInitialContextFactory\u003c/code\u003e anywhere in Java code.  Remove this string and verify that it is not being used as part of InitialContext initialization.      \n\u003c/p\u003e\n","occurrenceFields":{"reference":"Reference","fileName":"File Name","match":"Match","lineNumber":"Line Number","artifactDisplayName":"Artifact"}},{"ruleId":"URLRuleDockerCloud","ruleName":"Validate the URL host and port for cloud access","cost":0.0,"uniqueCodeCost":0.0,"commonCodeCost":0.0,"isCostCapped":false,"occurrences":[{"artifact":"78cd808e6de2f14994e4e317d88172c00cce40edc347b500f9ca93a9a7140608_modresorts-2.0.0.war","artifactDisplayName":"modresorts-2.0.0.war","commonCode":false,"occurrences":[{"fileName":"modresorts-2.0.0.war","match":"http://api.wunderground.com/api/","reference":"2","lineNumber":0}],"numOccurrences":1}],"actionTaken":"","additionalInformation":"","severity":"suggested","type":"ADDITIONAL_INFORMATION","isValid":true,"complexityRule":"NO_CODE_CHANGE_OR_MANAGEABLE_DEPENDENCIES","solutionText":[],"automatedFix":"none","helpBody":"\u003ch3\u003eValidate the URL host and port for cloud access\u003c/h3\u003e\n\u003cp\u003eIn a cloud environment, there are many things to consider when accessing URLs from your application.\n\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eDoes the host name or IP address need to change?\u003c/li\u003e\n\u003cul\u003e\u003cli\u003eIf the target service moved with the application, then the host name or IP address needs to change.\u003c/li\u003e\u003c/ul\u003e\n\n\u003cli\u003eCan the host be accessed from the cloud environment?\u003c/li\u003e\n\u003cul\u003e\u003cli\u003eIf the target host is not on the public internet, you need to configure a secure connection using a VPN tunnel.\nSee \u003ca href\u003d\"#SecureConnection\"\u003eCreate a Secure Connection\u003c/a\u003e for more information.\u003c/li\u003e\u003c/ul\u003e\n\n\u003cli\u003eCan the port be accessed from the cloud environment?\u003c/li\u003e\n\u003cul\u003e\u003cli\u003eIf the target host is on the public cloud, you might need to open the port when using non-default ports.\nSee \u003ca href\u003d\"#OpenPort\"\u003eOpen a Port\u003c/a\u003e for more information.\u003c/li\u003e\u003c/ul\u003e\n\n\u003cli\u003eCan the host name or IP address change dynamically in the cloud environment after deployment?\u003c/li\u003e\n\u003cul\u003e\u003cli\u003eIn a cloud environment, services or peers can be relocated or regenerated, which shifts them to new host\nnames and IP addresses. When these shifts occur, application calls to particular host names or IP addresses can break.\u003c/li\u003e\n\u003cli\u003eInstead of using host names or IP addresses, consult an external service registry to resolve service endpoints, \nor delegate the entire routing function to a service bus or a load balancer with a virtual name instead.\u003c/li\u003e\u003c/ul\u003e\n\n\u003cli\u003eIf the host name is \u003ccode\u003elocalhost\u003c/code\u003e, did the target service move with the application?\u003c/li\u003e\n\u003cul\u003e\u003cli\u003eIf it did not move, you need to configure a secure connection using a VPN tunnel. See \u003ca href\u003d\"#SecureConnection\"\u003eCreate a Secure Connection\u003c/a\u003e for more information.\u003c/li\u003e\u003c/ul\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eThis rule flags references to the following in Java string literals and in property values in .properties files:\n\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ecorbaloc:\u0026lt;protocol\u0026gt;:\u0026lt;host\u0026gt;:\u0026lt;port\u0026gt;/ (protocol and port are optional)\u003c/li\u003e\n\u003cli\u003ecorbaname:\u0026lt;protocol\u0026gt;:\u0026lt;host\u0026gt;:\u0026lt;port\u0026gt;/ (protocol and port are optional)\u003c/li\u003e\n\u003cli\u003ehttp://\u003c/li\u003e\n\u003cli\u003ehttps://\u003c/li\u003e\n\u003cli\u003eiiop://\u003c/li\u003e\n\u003cli\u003eimap://\u003c/li\u003e\n\u003cli\u003ejdbc:\u0026lt;database type\u0026gt;://\u003c/li\u003e\n\u003cli\u003eldap://\u003c/li\u003e\n\u003cli\u003eldaps://\u003c/li\u003e\n\u003cli\u003epop2://\u003c/li\u003e\n\u003cli\u003esmtp://\u003c/li\u003e\n\u003cli\u003essl://\u003c/li\u003e\n\u003cli\u003etcp://\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIf the target cloud runtime environment is IBM Cloud or Third-party PaaS, the following protocols are not flagged by this rule because\nthey are flagged by the \u003ca href\u003d\"PLUGINS_ROOT/com.ibm.ws.appconversion.liberty2cloud/ruleinfo/appmigration/liberty2cloud/ProtocolRule.html\"\u003eDo not use older or non-standard protocols\u003c/a\u003e rule.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ecorbaloc\u003c/li\u003e\n\u003cli\u003eiiop\u003c/li\u003e\n\u003cli\u003essl\u003c/li\u003e\n\u003cli\u003etcp\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThis rule also flags references to \"http://\" or \"https://\" in the \u003ccode\u003elocation\u003c/code\u003e attribute on the \u003cspan class\u003d\"XmlDefinition\"\u003e\u0026lt;address\u0026gt;\u003c/span\u003e element in WSDL files.\n\u003c/p\u003e\n\u003cp\u003e\nNote: References to \"http://www.w3.org/\" and \"http://schemas.xmlsoap.org/\" are not flagged because they identify defined\nnamespaces in the Web Services Addressing specification. \n\u003c/p\u003e\n\u003ch4\u003eHow to Resolve\u003c/h4\u003e\n\t\t\u003cp\u003eIf your application is able to directly access the service endpoint or peer, no further action is required.\n\t\tOtherwise, there are two potential solutions:\u003c/p\u003e\n\u003ch5 id\u003d\"SecureConnection\"\u003eCreate a Secure Connection\u003c/h5\u003e\n\t\t\u003cp\u003eYou can use a VPN tunnel, such as the IBM Secure Gateway for IBM Cloud, \n\t\t\tto create a secure connection to your service endpoint or peer. \n\t\t\tFor more information about configuring a secure connection, see \n\t\t\t\u003ca href\u003d\"SecureConnection.html\"\u003eConfiguring a VPN\u003c/a\u003e. \n\t\t\tAfter configuring your gateway, connect your application to the\n\t\t\tnew destination by using the cloud host and port number that is\n\t\t\tprovided when you created the destination.\u003c/p\u003e\n\u003ch5 id\u003d\"OpenPort\"\u003eOpen a Port\u003c/h5\u003e\n\u003cp\u003eOnly certain ports are open by default in a cloud environment. For information on how to open additional ports, see the \u003ccode\u003eFirewall Ports\u003c/code\u003e section in \n\u003ca href\u003d\"https://cloud.ibm.com/docs/ApplicationServeronCloud?topic\u003dApplicationServeronCloud-system_access#firewall_ports\" \ntitle\u003d\"Opens a new window\" onclick\u003d\"javascript:helpWindow(\u0027https://cloud.ibm.com/docs/ApplicationServeronCloud?topic\u003dApplicationServeronCloud-system_access#firewall_ports\u0027);return false\"\u003e\nWebSphere Application Server in IBM Cloud System access\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\nFor more information, see \u003ca href\u003d\"https://developer.ibm.com/depmodels/cloud/articles/1404-brown/\" \ntitle\u003d\"Opens a new window\" onclick\u003d\"javascript:helpWindow(\u0027https://developer.ibm.com/depmodels/cloud/articles/1404-brown/\u0027);return false\"\u003e\nTop 9 rules for cloud applications\u003c/a\u003e.\n\u003c/p\u003e\n","occurrenceFields":{"reference":"Reference","fileName":"File Name","match":"Match","lineNumber":"Line Number","artifactDisplayName":"Artifact"}},{"ruleId":"DatabasesRule","ruleName":"Databases","cost":0.0,"uniqueCodeCost":0.0,"commonCodeCost":0.0,"isCostCapped":false,"occurrences":[{"artifact":"78cd808e6de2f14994e4e317d88172c00cce40edc347b500f9ca93a9a7140608_modresorts-2.0.0.war","artifactDisplayName":"modresorts-2.0.0.war","commonCode":false,"occurrences":[{"fileName":"WEB-INF/classes/com/acme/modres/db/ModResortsCustomerInformation.class","match":"javax.sql","reference":"Field dataSource","lineNumber":0}],"numOccurrences":1}],"actionTaken":"ta.actionTaken.migrating.cloud.maintain.resource","additionalInformation":"","severity":"suggested","type":"CLOUD_CONSIDERATION","isValid":true,"complexityRule":"NO_CODE_CHANGE_OR_MANAGEABLE_DEPENDENCIES","solutionText":[],"automatedFix":"none","helpBody":"\u003ch3\u003eDatabases\u003c/h3\u003e\n\u003cp\u003eWhen migrating applications using databases to a cloud platform, \nconsider how to maintain access to the database from the cloud.\n\u003c/p\u003e\n\u003cp\u003eThe following Java packages indicate use of a database:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ejava.sql\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ejavax.sql\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ejavax.persistence\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eorg.apache.ibatis\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eorg.hibernate\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eorg.springframework.dao\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eorg.springframework.jdbc\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eorg.ektorp\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eorg.lightcouch\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eorg.jcouchdb\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ecom.buycentives.jrelax\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ecom.mongodb\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThis rule flags the following references in the \u003cspan class\u003d\"FilePath\"\u003epersistence.xml\u003c/span\u003e file: \n\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e\u0026lt;property name\u003d\"javax.persistence.jdbc.url\"/\u0026gt;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e\u0026lt;jta-data-source\u0026gt;\u003ci\u003edata source name\u003c/i\u003e\u0026lt;/jta-data-source\u0026gt;\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e\u0026lt;non-jta-data-source\u0026gt;\u003ci\u003edata source name\u003c/i\u003e\u0026lt;/non-jta-data-source\u0026gt;\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\nThis rule also flags resource references with a type of\n\u003ccode\u003e\u0026lt;res-type\u0026gt;javax.sql.DataSource\u0026lt;/res-type\u0026gt;\u003c/code\u003e element in \u003ccode\u003eapplication.xml\u003c/code\u003e, \n\u003ccode\u003eapplication-client.xml\u003c/code\u003e, \u003ccode\u003eejb-jar.xml\u003c/code\u003e, or \u003ccode\u003eweb.xml\u003c/code\u003e files.\n\u003c/p\u003e\n\u003cp\u003eEach database Java API type referenced by an application is flagged only once per Eclipse project or Java archive. \nFor example, if \u003ccode\u003ejava.sql\u003c/code\u003e and \u003ccode\u003ejavax.persistence\u003c/code\u003e APIs are both used in an Eclipse project, \nyou get two results for that project.  The results do not give you an indication of how\nmany databases are being accessed. Rather, they give an indication of the technologies that you use \nto access databases.\n\u003c/p\u003e\n\u003cp\u003e\nAll \u003ccode\u003ejavax.persistence.jdbc.url\u003c/code\u003e properties are flagged because\nthey must be reconfigured when you use a VPN tunnel.\n\u003c/p\u003e\n\u003cp\u003e\nIn the following \u003cspan class\u003d\"FilePath\"\u003epersistence.xml\u003c/span\u003e file, \nthe \u003ccode\u003eproperty\u003c/code\u003e element with \u003ccode\u003ename\u003d\"javax.persistence.jdbc.url\"\u003c/code\u003e is flagged by this rule. \n\u003c/p\u003e\n\u003ctable summary\u003d\"This table provides more information about the rule, sometimes in the form of an excerpt from a file demonstrating the migration issue.\" bgcolor\u003d\"#F7F8F9\" border\u003d\"1\" cellpadding\u003d\"2px\"\u003e\n\u003ctr\u003e\u003ctd\u003e\n\u003cpre\u003e\n\u0026lt;persistence\u0026gt;\n  \u0026lt;persistence-unit name\u003d\"openjpa\"\u0026gt;\n    \u0026lt;properties\u0026gt;\n      ...\n      \u0026lt;property name\u003d\"javax.persistence.jdbc.url\"\n                   value\u003d\"jdbc:db2://host.ibm.com:50000/mydb2user\" /\u0026gt;\n       ...\n    \u0026lt;/properties\u0026gt;\n  \u0026lt;/persistence-unit\u0026gt;\n\u0026lt;/persistence\u0026gt;\n\u003c/pre\u003e\n\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003ch4\u003eHow to Resolve\u003c/h4\u003e\n\t\t\u003cp\u003eIf your application is able to directly access the database provider, no further action is required.\n\t\t\u003c/p\u003e\n\t\t\u003cp\u003e\n\t\t\tOtherwise, you can use a VPN tunnel, such as the IBM Secure Gateway for IBM Cloud, \n\t\t\tto create a secure connection to your existing on-premises database provider.\n\t\t\tFor more information about configuring a secure connection, see \n\t\t\t\u003ca href\u003d\"SecureConnection.html\"\u003eConfiguring a VPN\u003c/a\u003e. After configuring your gateway, connect your application to the\n\t\t\tnew destination by using the cloud host and port number that is\n\t\t\tprovided when you created the destination.\n\t\t\tThe following URL is an example of an IBM DB2 database URL:\u003c/p\u003e\n\t\t\t\u003cul\u003e\n\t\t\t\u003cli\u003e\u003cspan class\u003d\"Code\"\u003ejdbc:db2://\u0026lt;cloud host\u0026gt;:\u0026lt;cloud port\u0026gt;/\u0026lt;database name\u0026gt;\u003c/span\u003e\u003c/li\u003e\n\t\t\t\u003c/ul\u003e\n\u003cp\u003e\nFor situations where you want to move your data to the cloud, you can use \u003ca href\u003d\"https://www.ibm.com/cloud/data\"\ntitle\u003d\"Opens a new window\" onclick\u003d\"javascript:helpWindow(\u0027https://www.ibm.com/cloud/data\u0027);return false\"\u003e\nIBM Cloud databases\u003c/a\u003e.\n\u003c/p\u003e\n","occurrenceFields":{"reference":"Reference","fileName":"File Name","match":"Match","lineNumber":"Line Number","artifactDisplayName":"Artifact"}},{"ruleId":"WebSphereUnavailableSSOCookieMethod","ruleName":"Do not use the WSSecurityHelper revokeSSOCookies method","cost":0.1,"uniqueCodeCost":0.1,"commonCodeCost":0.0,"isCostCapped":false,"occurrences":[{"artifact":"78cd808e6de2f14994e4e317d88172c00cce40edc347b500f9ca93a9a7140608_modresorts-2.0.0.war","artifactDisplayName":"modresorts-2.0.0.war","commonCode":false,"occurrences":[{"fileName":"WEB-INF/classes/com/acme/modres/LogoutServlet.class","match":"com.ibm.websphere.security.WSSecurityHelper.revokeSSOCookies(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)","reference":"Method doGet","lineNumber":21}],"numOccurrences":1}],"actionTaken":"","additionalInformation":"","severity":"critical","type":"TECHNOLOGY","isValid":true,"complexityRule":"UPDATE_CODE","solutionText":["ta.liberty.issue.complexity.rule.issue.categories.update.code"],"automatedFix":"automated","helpBody":"\u003ch3\u003eAvoid using the deprecated WSSecurityHelper revokeSSOCookies method\u003c/h3\u003e\n\u003cp\u003e\nThis rule flags the following deprecated method from the \n\u003cspan class\u003d\"Code\"\u003ecom.ibm.websphere.security.WSSecurityHelper\u003c/span\u003e\nclass: \n\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cspan class\u003d\"Code\"\u003erevokeSSOCookies(HttpServletRequest req, HttpServletResponse res)\u003c/span\u003e\u003c/li\u003e \n\u003c/ul\u003e\n\u003cp\u003eThis method is deprecated in traditional WebSphere Application Server Version 8.5 and might be removed in a future release. \nIt is not available on Liberty.        \n\u003c/p\u003e\n\u003cp\u003e\nThe functionality provided by \n\u003cspan class\u003d\"Code\"\u003eWSSecurityHelper.revokeSSOCookies(HttpServletRequest req, HttpServletResponse res)\u003c/span\u003e\n is replaced by the Java Servlet-3.0 specification\u0027s \u003cspan class\u003d\"Code\"\u003elogout()\u003c/span\u003e method.\nThe Java Servlet-3.0 \u003cspan class\u003d\"Code\"\u003elogout()\u003c/span\u003e method will perform all of the work that \n\u003cspan class\u003d\"Code\"\u003eWSSecurityHelper.revokeSSOCookies(HttpServletRequest req, HttpServletResponse res)\u003c/span\u003e \nperforms as well as doing additional state clean up, such as invalidating the session and clearing the security \n\u003cspan class\u003d\"Code\"\u003eSubject\u003c/span\u003e from the thread.\n\u003c/p\u003e\n\u003cp\u003e\nUse the new method to be compatible on both WebSphere Application Server traditional and Liberty. Also note that with the \n\u003cspan class\u003d\"Code\"\u003elogout()\u003c/span\u003e method in use, the application requires WebSphere Application \nServer V8.0 or later.\n\u003c/p\u003e\n\u003cp\u003e\nIn the source scanner, the quick fix replaces calls to\n\u003cspan class\u003d\"Code\"\u003erevokeSSOCookies(HttpServletRequest req, HttpServletResponse res)\u003c/span\u003e\nwith calls to the \u003cspan class\u003d\"Code\"\u003elogout()\u003c/span\u003e method.  For example, the following code\n\u003c/p\u003e\n\n\u003ctable summary\u003d\"This table provides more information about the rule, sometimes in the form of an excerpt from a file demonstrating the migration issue.\" bgcolor\u003d\"#F7F8F9\" border\u003d\"1\" cellpadding\u003d\"2px\"\u003e\n\u003ctr\u003e\n\u003ctd\u003e  \nimport javax.servlet.http.HttpServletRequest; \n\u003cbr\u003e\n\u003cspan class\u003d\"indent2\"\u003e\u003c/span\u003e...\n\u003cbr\u003e\n\u003cspan class\u003d\"indent2\"\u003e\u003c/span\u003eWSSecurityHelper.revokeSSOCookies(req, res);\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003cp\u003eis replaced by \n\u003c/p\u003e\n\u003ctable summary\u003d\"This table provides more information about the rule, sometimes in the form of an excerpt from a file demonstrating the migration issue.\" bgcolor\u003d\"#F7F8F9\" border\u003d\"1\" cellpadding\u003d\"2px\"\u003e\n\u003ctr\u003e\n\u003ctd\u003e  \nimport javax.servlet.http.HttpServletRequest; \n\u003cbr\u003e\n\u003cspan class\u003d\"indent2\"\u003e\u003c/span\u003e...\u003cbr\u003e\n\u003cspan class\u003d\"indent2\"\u003e\u003c/span\u003ereq.logout();\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003cp\u003e\nThis rule has an automated fix. Copy the \u003ca href\u003d\"#analyze_AutomatedFixConfiguration\"\u003ecustom configuration\u003c/a\u003e to your application build file to enable it.\n\u003c/p\u003e\n\u003cp\u003e\nFor additional information, see \n\u003c/p\u003e\n\u003cul\u003e\n\t\u003cli\u003e\u003ca href\u003d\"https://www.ibm.com/docs/en/was-nd/8.5.5?topic\u003dproviders-java-servlet-30-support-security\" \n\t   title\u003d\"Opens a new window\" onclick\u003d\"javascript:helpWindow(\u0027https://www.ibm.com/docs/en/was-nd/8.5.5?topic\u003dproviders-java-servlet-30-support-security\u0027); return false;\"\u003e\n\t   Java Servlet 3.0 support for security\u003c/a\u003e documentation. \n\t\u003c/li\u003e\n\t\u003cli\u003e\u003ca href\u003d\"https://www.ibm.com/support/knowledgecenter/SSEQTP_9.0.5/com.ibm.websphere.javadoc.doc/web/apidocs/com/ibm/websphere/security/WSSecurityHelper.html\"                 \n\t   title\u003d\"Opens a new window\" onclick\u003d\"javascript:helpWindow(\u0027https://www.ibm.com/support/knowledgecenter/SSEQTP_9.0.5/com.ibm.websphere.javadoc.doc/web/apidocs/com/ibm/websphere/security/WSSecurityHelper.html\u0027); return false;\"\u003e\n\t   Class WSSecurityHelper\u003c/a\u003e Java documentation. \n\t\u003c/li\u003e\n\t\u003cli\u003e\u003ca href\u003d\"https://www.ibm.com/docs/en/was-nd/8.5.5?topic\u003dapplications-servlet-security-methods\"                 \n\t   title\u003d\"Opens a new window\" onclick\u003d\"javascript:helpWindow(\u0027https://www.ibm.com/docs/en/was-nd/8.5.5?topic\u003dapplications-servlet-security-methods\u0027); return false;\"\u003e\n\t   Servlet security methods\u003c/a\u003e documentation. \n\t\u003c/li\u003e\n\n\n\n\u003c/ul\u003e\n","occurrenceFields":{"reference":"Reference","fileName":"File Name","match":"Match","lineNumber":"Line Number","artifactDisplayName":"Artifact"}}],"summary":{"complexity":{"simple":{"ADDITIONAL_INFORMATION":1,"CLOUD_CONSIDERATION":2},"moderate":{"TECHNOLOGY":3},"score":"moderate"},"issues":{"suggested":3,"critical":3},"isCostCapped":false,"effort":{"total":0.3,"ADDITIONAL_INFORMATION":0.0,"TECHNOLOGY":0.3,"CLOUD_CONSIDERATION":0.0},"requiredCodeChanges":"automated"},"technologyType":"Core","automatedFixConfig":{"mavenConfig":"\u003cplugin\u003e\n    \u003cgroupId\u003eorg.openrewrite.maven\u003c/groupId\u003e\n    \u003cartifactId\u003erewrite-maven-plugin\u003c/artifactId\u003e\n    \u003cversion\u003e5.4.2\u003c/version\u003e\n    \u003cconfiguration\u003e\n        \u003cactiveRecipes\u003e\n            \u003c!--Getting the server name on Liberty--\u003e\n            \u003crecipe\u003eorg.openrewrite.java.liberty.ServerName\u003c/recipe\u003e\n            \u003c!--Use the default InitialContext JNDI properties--\u003e\n            \u003crecipe\u003eorg.openrewrite.java.liberty.RemoveWas2LibertyNonPortableJndiLookup\u003c/recipe\u003e\n            \u003c!--Do not use the WSSecurityHelper revokeSSOCookies method--\u003e\n            \u003crecipe\u003eorg.openrewrite.java.liberty.WebSphereUnavailableSSOCookieMethod\u003c/recipe\u003e\n        \u003c/activeRecipes\u003e\n    \u003c/configuration\u003e\n    \u003cdependencies\u003e\n        \u003cdependency\u003e\n            \u003cgroupId\u003eorg.openrewrite.recipe\u003c/groupId\u003e\n            \u003cartifactId\u003erewrite-liberty\u003c/artifactId\u003e\n            \u003cversion\u003e1.0.0\u003c/version\u003e\n        \u003c/dependency\u003e\n    \u003c/dependencies\u003e\n\u003c/plugin\u003e\n","gradleConfig":"plugins {\n    id \u0027java\u0027\n    id \u0027maven-publish\u0027\n    id \u0027org.openrewrite.rewrite\u0027 version \u00276.1.25\u0027\n}\n\nrewrite {\n    activeRecipe(\n        // Getting the server name on Liberty\n        \u0027org.openrewrite.java.liberty.ServerName\u0027,\n        // Use the default InitialContext JNDI properties\n        \u0027org.openrewrite.java.liberty.RemoveWas2LibertyNonPortableJndiLookup\u0027,\n        // Do not use the WSSecurityHelper revokeSSOCookies method\n        \u0027org.openrewrite.java.liberty.WebSphereUnavailableSSOCookieMethod\u0027,\n    )\n}\n\ndependencies {\n        rewrite(\u0027org.openrewrite.recipe:rewrite-liberty:1.0.0\u0027)\n}"},"targetId":"websphereLiberty"}]}